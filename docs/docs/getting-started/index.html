<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- prismjs -->
<link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet">

<!-- bootstrap-js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<!-- jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- google fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- main.css -->
<link rel="stylesheet" href="/styles/main.css">
    <title>Kaluma</title>
  </head>
  <body>
    <nav class="doc-sidebar">
      <div class="doc-sidebar-header p-3 border-bottom">
        <a href="/"><img src="/images/kaluma-logo.png" width="32px"></a>
        <span class="ms-2 fw-bold">Kaluma Docs</span>
      </div>
      <aside class="doc-sidebar-nav">
        <nav class="navbar-collapse collapse collapse-horizontal show" id="docs-nav">
          <ul class="list-unstyled">
            
              <li>
                <a href="/docs/">Introduction</a>
              </li>
            
              <li>
                <a href="/docs/getting-started/">Getting Started</a>
              </li>
            
              <li>
                <a href="/docs/repl/">REPL</a>
              </li>
            
              <li>
                <a href="/docs/tutorials/">Tutorials</a>
              </li>
            
            <li>
              <a href="https://github.com/kaluma-project/examples" target="_blank">Examples</a>
            </li>
            <br>
            <div class="doc-section">Boards</div>
            
              <li>
                <a href="/docs/boards/rp2/">RP2 (Raspberry Pi Pico)</a>
              </li>
            
            <br>
            <div class="doc-section">API</div>
            
              <li>
                <a href="/docs/api/adc/">ADC</a>
              </li>
            
              <li>
                <a href="/docs/api/analog-io/">Analog I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/at-command/">AT Command</a>
              </li>
            
              <li>
                <a href="/docs/api/board/">Board</a>
              </li>
            
              <li>
                <a href="/docs/api/button/">Button</a>
              </li>
            
              <li>
                <a href="/docs/api/console/">Console</a>
              </li>
            
              <li>
                <a href="/docs/api/device-driver/">Device Driver</a>
              </li>
            
              <li>
                <a href="/docs/api/digital-io/">Digital I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/errors/">Errors</a>
              </li>
            
              <li>
                <a href="/docs/api/events/">Events</a>
              </li>
            
              <li>
                <a href="/docs/api/file-system/">File system</a>
              </li>
            
              <li>
                <a href="/docs/api/flash/">Flash</a>
              </li>
            
              <li>
                <a href="/docs/api/global/">Global</a>
              </li>
            
              <li>
                <a href="/docs/api/gpio/">GPIO</a>
              </li>
            
              <li>
                <a href="/docs/api/graphics/">Graphics</a>
              </li>
            
              <li>
                <a href="/docs/api/http/">HTTP</a>
              </li>
            
              <li>
                <a href="/docs/api/i2c/">I2C</a>
              </li>
            
              <li>
                <a href="/docs/api/interrupts/">Interrupts</a>
              </li>
            
              <li>
                <a href="/docs/api/led/">LED</a>
              </li>
            
              <li>
                <a href="/docs/api/net/">Net</a>
              </li>
            
              <li>
                <a href="/docs/api/path/">Path</a>
              </li>
            
              <li>
                <a href="/docs/api/process/">Process</a>
              </li>
            
              <li>
                <a href="/docs/api/pwm/">PWM</a>
              </li>
            
              <li>
                <a href="/docs/api/rp2/">RP2</a>
              </li>
            
              <li>
                <a href="/docs/api/rtc/">RTC</a>
              </li>
            
              <li>
                <a href="/docs/api/spi/">SPI</a>
              </li>
            
              <li>
                <a href="/docs/api/storage/">Storage</a>
              </li>
            
              <li>
                <a href="/docs/api/stream/">Stream</a>
              </li>
            
              <li>
                <a href="/docs/api/timers/">Timers</a>
              </li>
            
              <li>
                <a href="/docs/api/uart/">UART</a>
              </li>
            
              <li>
                <a href="/docs/api/url/">URL</a>
              </li>
            
              <li>
                <a href="/docs/api/wifi/">Wi-Fi</a>
              </li>
            
          </ul>
        </nav>
      </aside>
    </nav>
    <div class="doc-body">
      <!-- <div class="text-end p-3 border-bottom"> v1.0 <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#docs-nav" aria-expanded="false">=</button> </div> -->
      <main class="container d-flex justify-content-center markdown-content" style="padding-bottom: 5rem;">
        <div style="width: 100%">
          <h1 id="getting-started" tabindex="-1">Getting Started <a class="direct-link" href="#getting-started">#</a></h1>
<p>In this article we will give you a quick tutorial to get start within 10 minutes.</p>
<h2 id="get-a-rasberry-pi-pico" tabindex="-1">Get a Rasberry Pi Pico <a class="direct-link" href="#get-a-rasberry-pi-pico">#</a></h2>
<p>Get a <a href="https://www.raspberrypi.org/products/raspberry-pi-pico/">Raspberry Pi Pico</a> board or other RP2040 board.</p>
<h2 id="install-firmware" tabindex="-1">Install firmware <a class="direct-link" href="#install-firmware">#</a></h2>
<p><img src="/images/pico-bootsel.png" alt="Pico"></p>
<ul>
<li><a href="/download">Download</a> firmware (<strong>.UF2</strong>).</li>
<li>Push and hold the <strong>BOOTSEL</strong> button and plug into USB port of your computer, and then release the button. It will mount as USB storage device named <strong>RPI-RP2</strong>.</li>
<li>Drag and drop the downloaded <strong>.UF2</strong> onto the <strong>RPI-RP2</strong> volume. Your Pico will reboot automatically.</li>
</ul>
<h2 id="install-cli-" tabindex="-1">Install CLI (Command-Line Interface) <a class="direct-link" href="#install-cli-">#</a></h2>
<p>First of all, we have to install <a href="https://github.com/kaluma-project/kaluma-cli">Kaluma CLI</a> in your local computer to work with boards Kaluma installed. Of course, it is assumed that <a href="https://nodejs.org">Node.js</a> is installed.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> -g @kaluma/cli</code></pre>
<p>After installation you can see help message with <code>help</code> command.</p>
<pre class="language-bash"><code class="language-bash">$ kaluma <span class="token builtin class-name">help</span></code></pre>
<h2 id="connect-with-terminal" tabindex="-1">Connect with Terminal <a class="direct-link" href="#connect-with-terminal">#</a></h2>
<p>Once you installed the firmware, you can use the board in <a href="/docs/repl">REPL</a> mode with any ANSI/VT100 compatible serial terminals. CLI provides a simple serial terminal feature with <code>shell</code> command:</p>
<pre class="language-bash"><code class="language-bash">$ kaluma shell<br><br><span class="token comment"># you can specify a serial port</span><br>$ kaluma shell --port /dev/tty.usbmodem0000000000001<br><br><span class="token comment"># to see all available serial ports</span><br>$ kaluma ports</code></pre>
<p>Then you will see a welcome message and the prompt <code>&gt;</code> (If you cannot see the prompt, press <code>Enter</code> several times). On the prompt you can enter any JavaScript expressions or <a href="/docs/repl">REPL commands</a>. Type <code>.help</code> command, you will see all available REPL commands.</p>
<pre class="language-plain"><code class="language-plain">> .help</code></pre>
<p>You can exit the CLI shell connection by pressing <code>ctrl+z</code>.</p>
<p>You can use other serial terminal programs including <code>screen</code> command in macOS and Linux, or <a href="https://www.putty.org/">PuTTY</a>) in Windows.</p>
<h2 id="setup-project" tabindex="-1">Setup project <a class="direct-link" href="#setup-project">#</a></h2>
<p>To create a project, simply make a directory.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">mkdir</span> kaluma-app<br>$ <span class="token builtin class-name">cd</span> kaluma-app</code></pre>
<p>We recommend to initialize the project with NPM to create <code>package.json</code>.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> init -y</code></pre>
<h2 id="write-your-code" tabindex="-1">Write your code <a class="direct-link" href="#write-your-code">#</a></h2>
<p>Let's write the first blink code <code>index.js</code> in the project folder with any text editor (VSCode, Atom, Sublime Text, etc).</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// index.js</span><br><span class="token keyword">const</span> led <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span>led<span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token function">digitalToggle</span><span class="token punctuation">(</span>led<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="flash-your-code" tabindex="-1">Flash your code <a class="direct-link" href="#flash-your-code">#</a></h2>
<p>Use CLI to flash <code>index.js</code> to your board.</p>
<pre class="language-bash"><code class="language-bash">$ kaluma flash index.js</code></pre>
<p>After uploading successfully, you will see a blinking LED on the board.</p>
<h2 id="install-third-party-packages" tabindex="-1">Install third-party packages <a class="direct-link" href="#install-third-party-packages">#</a></h2>
<p>You can install third-party packages with NPM. You can find third-party packages for Kaluma in <a href="/packages">Packages</a>.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> https://github.com/niklauslee/dht --save</code></pre>
<p>Then you can import the package with <code>require()</code>.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token constant">DHT</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dht'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="bundle-multiple-files" tabindex="-1">Bundle multiple files <a class="direct-link" href="#bundle-multiple-files">#</a></h2>
<p>Please remember that only a single <code>.js</code> file can be flashed in Kaluma. If you are using multiple <code>.js</code> files or using third-party modules installed by <code>npm install</code>, you have to bundle them into the a single <code>.js</code> file.</p>
<pre class="language-bash"><code class="language-bash">$ kaluma bundle ./index.js</code></pre>
<p>You can find <code>bundle.js</code> file and flash the bundled code.</p>
<pre class="language-bash"><code class="language-bash">$ kaluma flash ./bundle.js</code></pre>
<p>Or shorty, you can bundle and flash at once with <code>--bundle</code> option.</p>
<pre class="language-bash"><code class="language-bash">$ kaluma flash ./index.js --bundle</code></pre>
<h2 id="debug" tabindex="-1">Debug <a class="direct-link" href="#debug">#</a></h2>
<p>To check the errors raised during the code execution, you need to connect with serial terminal again. However CLI's <code>flash</code> command will load the code automatically so you can't see the error messages. So you have to use <code>--shell</code> option to flash code with shell connection.</p>
<pre class="language-bash"><code class="language-bash">$ kaluma flash ./index.js --bundle --shell</code></pre>
<p>Then you can see all console logs and errors because shell connection still alive even after flashing code. Hit <code>ctrl+z</code> to quit.</p>
<p>Sometimes the flashed code can crash the board. Because Kaluma automatically execute the code in flash on boot, you have no way to recover the board in software manner. In this case you can skip code loading on boot by wiring <code>GP22</code> pin and <code>GND</code> pin (See <a href="/docs/boards/rp2/#skip-code-loading-on-boot">Skip code loading on boot</a>). Then you can connect with terminal and you can erase the code from the internal flash in REPL mode.</p>
<pre class="language-plain"><code class="language-plain">> .flash -e</code></pre>

        </div>
      </main>
    </div>
  </body>
</html>