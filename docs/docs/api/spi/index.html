<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- prismjs -->
<link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet">

<!-- bootstrap-js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<!-- jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- google fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- main.css -->
<link rel="stylesheet" href="/styles/main.css">
    <title>Kaluma</title>
  </head>
  <body>
    <nav class="doc-sidebar">
      <div class="doc-sidebar-header p-3 border-bottom">
        <a href="/"><img src="/images/kaluma-logo.png" width="32px"></a>
        <span class="ms-2 fw-bold">Kaluma Docs</span>
      </div>
      <aside class="doc-sidebar-nav">
        <nav class="navbar-collapse collapse collapse-horizontal show" id="docs-nav">
          <ul class="list-unstyled">
            
              <li>
                <a href="/docs/">Introduction</a>
              </li>
            
              <li>
                <a href="/docs/getting-started/">Getting Started</a>
              </li>
            
              <li>
                <a href="/docs/repl/">REPL</a>
              </li>
            
            <li>
              <a href="https://github.com/kaluma-project/examples" target="_blank">Examples</a>
            </li>
            <br>
            <div class="doc-section">Boards</div>
            
              <li>
                <a href="/docs/boards/rp2/">RP2 (Raspberry Pi Pico)</a>
              </li>
            
            <br>
            <div class="doc-section">API</div>
            
              <li>
                <a href="/docs/api/adc/">ADC</a>
              </li>
            
              <li>
                <a href="/docs/api/analog-io/">Analog I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/at-command/">AT Command</a>
              </li>
            
              <li>
                <a href="/docs/api/board/">Board</a>
              </li>
            
              <li>
                <a href="/docs/api/button/">Button</a>
              </li>
            
              <li>
                <a href="/docs/api/console/">Console</a>
              </li>
            
              <li>
                <a href="/docs/api/device-driver/">Device Driver</a>
              </li>
            
              <li>
                <a href="/docs/api/digital-io/">Digital I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/errors/">Errors</a>
              </li>
            
              <li>
                <a href="/docs/api/events/">Events</a>
              </li>
            
              <li>
                <a href="/docs/api/file-system/">File system</a>
              </li>
            
              <li>
                <a href="/docs/api/flash/">Flash</a>
              </li>
            
              <li>
                <a href="/docs/api/global/">Global</a>
              </li>
            
              <li>
                <a href="/docs/api/gpio/">GPIO</a>
              </li>
            
              <li>
                <a href="/docs/api/graphics/">Graphics</a>
              </li>
            
              <li>
                <a href="/docs/api/http/">HTTP</a>
              </li>
            
              <li>
                <a href="/docs/api/i2c/">I2C</a>
              </li>
            
              <li>
                <a href="/docs/api/interrupts/">Interrupts</a>
              </li>
            
              <li>
                <a href="/docs/api/led/">LED</a>
              </li>
            
              <li>
                <a href="/docs/api/net/">Net</a>
              </li>
            
              <li>
                <a href="/docs/api/path/">Path</a>
              </li>
            
              <li>
                <a href="/docs/api/process/">Process</a>
              </li>
            
              <li>
                <a href="/docs/api/pwm/">PWM</a>
              </li>
            
              <li>
                <a href="/docs/api/rp2/">RP2</a>
              </li>
            
              <li>
                <a href="/docs/api/rtc/">RTC</a>
              </li>
            
              <li>
                <a href="/docs/api/spi/">SPI</a>
              </li>
            
              <li>
                <a href="/docs/api/storage/">Storage</a>
              </li>
            
              <li>
                <a href="/docs/api/stream/">Stream</a>
              </li>
            
              <li>
                <a href="/docs/api/timers/">Timers</a>
              </li>
            
              <li>
                <a href="/docs/api/uart/">UART</a>
              </li>
            
              <li>
                <a href="/docs/api/url/">URL</a>
              </li>
            
              <li>
                <a href="/docs/api/wifi/">Wi-Fi</a>
              </li>
            
          </ul>
        </nav>
      </aside>
    </nav>
    <div class="doc-body">
      <!-- <div class="text-end p-3 border-bottom"> v1.0 <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#docs-nav" aria-expanded="false">=</button> </div> -->
      <main class="container d-flex justify-content-center markdown-content" style="padding-bottom: 5rem;">
        <div style="width: 100%">
          <h1 id="spi" tabindex="-1">SPI <a class="direct-link" href="#spi">#</a></h1>
<p>The <code>spi</code> module supports communication with devices using SPI (Serial Peripheral Interface) bus as the master device. Use <code>require('spi')</code> to access this module. A chip select pin of slave device need to be controlled by GPIO output pin.</p>
<h2 id="class-spi" tabindex="-1">Class: SPI <a class="direct-link" href="#class-spi">#</a></h2>
<p>An instances of <code>SPI</code> represents a SPI bus.</p>
<h3 id="spi-mode-0" tabindex="-1">SPI.MODE_0 <a class="direct-link" href="#spi-mode-0">#</a></h3>
<ul>
<li><code>&lt;number&gt;</code> = <code>0</code></li>
</ul>
<p>'SPI MODE0: CPOL = 0, CPHA = 0</p>
<h3 id="spi-mode-1" tabindex="-1">SPI.MODE_1 <a class="direct-link" href="#spi-mode-1">#</a></h3>
<ul>
<li><code>&lt;number&gt;</code> = <code>1</code></li>
</ul>
<p>'SPI MODE0: CPOL = 0, CPHA = 1</p>
<h3 id="spi-mode-2" tabindex="-1">SPI.MODE_2 <a class="direct-link" href="#spi-mode-2">#</a></h3>
<ul>
<li><code>&lt;number&gt;</code> = <code>2</code></li>
</ul>
<p>'SPI MODE0: CPOL = 1, CPHA = 0</p>
<h3 id="spi-mode-3" tabindex="-1">SPI.MODE_3 <a class="direct-link" href="#spi-mode-3">#</a></h3>
<ul>
<li><code>&lt;number&gt;</code> = <code>3</code></li>
</ul>
<p>'SPI MODE0: CPOL = 1, CPHA = 1</p>
<h3 id="spi-msb" tabindex="-1">SPI.MSB <a class="direct-link" href="#spi-msb">#</a></h3>
<ul>
<li><code>&lt;number&gt;</code> = <code>0</code></li>
</ul>
<p>SPI bitorder, MSB is the first bit.</p>
<h3 id="spi-lsb" tabindex="-1">SPI.LSB <a class="direct-link" href="#spi-lsb">#</a></h3>
<ul>
<li><code>&lt;number&gt;</code> = <code>1</code></li>
</ul>
<p>SPI bitorder, LSB is the first bit.</p>
<h3 id="new-spi" tabindex="-1">new SPI(bus[, options]) <a class="direct-link" href="#new-spi">#</a></h3>
<ul>
<li><strong><code>bus</code></strong> <code>&lt;number&gt;</code> SPI bus number.</li>
<li><strong><code>options</code></strong> <code>&lt;object&gt;</code> The object of SPI options. <em>Default values are depends on board (Check in a board page).</em>
<ul>
<li><strong><code>mode</code></strong> <code>&lt;number&gt;</code> <code>SPI.MODE_0</code> (CPOL=0/CPHA=0), <code>SPI.MODE_1</code> (CPOL=0/CPHA=1), <code>SPI.MODE_2</code> (CPOL=1/CPHA=0), or <code>SPI.MODE_3</code> (CPOL=1/CPHA=1). <strong>Default:</strong> <code>SPI.MODE_0</code>.</li>
<li><strong><code>baudrate</code></strong> <code>&lt;number&gt;</code> Baud rate. <strong>Default:</strong> <code>3000000</code>, 3 Mbit/s</li>
<li><strong><code>bitorder</code></strong> <code>&lt;number&gt;</code> <code>SPI.MSB (0)</code> or <code>SPI.LSB (1)</code>  <strong>Default:</strong> <code>SPI.MSB (0)</code>.</li>
<li><strong><code>sck</code></strong> <code>&lt;number&gt;</code> SPI SCK pin number.</li>
<li><strong><code>mosi</code></strong> <code>&lt;number&gt;</code> SPI MOSI (TX) pin number.</li>
<li><strong><code>miso</code></strong> <code>&lt;number&gt;</code> SPI MISO (RX) pin number.</li>
</ul>
</li>
<li><strong>Returns:</strong> <code>&lt;object&gt;</code> An initialized SPI instance corresponds to the bus number. Once initialized, the same object will be returned.</li>
</ul>
<p>Instances of the <code>SPI</code> class can be created using the new keyword or by calling spi.SPI() as a function. A <code>RangeError</code> will be thrown if <strong><code>bus</code></strong> is not less than max bus number. Please see <a href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface#Clock_polarity_and_phase">here</a> for more about SPI modes.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Create the SPI instance with master mode </span><br><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">GPIO</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gpio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">SPI</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'spi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> spi0cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GPIO</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set chip select to pin 9.</span><br><span class="token keyword">var</span> spiOptions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// SPI options</span><br>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MODE_0</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">baudrate</span><span class="token operator">:</span> <span class="token number">800000</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">bitorder</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MSB</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> spi0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SPI</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> spiOptions<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// ChipSelect LOW</span><br>spi0cs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// transfer data...</span><br>spi0<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Close SPI bus 0</span></code></pre>
<h3 id="spi-transfer" tabindex="-1">spi.transfer(data[, timeout]) <a class="direct-link" href="#spi-transfer">#</a></h3>
<ul>
<li><strong><code>data</code></strong> <code>&lt;Uint8Array|string&gt;</code> Data to write.</li>
<li><strong><code>timeout</code></strong> <code>&lt;number&gt;</code> Timeout in milliseconds. <strong>Default:</strong> <code>5000</code>.</li>
<li><strong>Returns:</strong> <code>&lt;Uint8Array&gt;</code> Received data or <code>null</code> if failed to transfer or timeout.</li>
</ul>
<p>Send and receive data simultaneously via SPI bus.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">GPIO</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gpio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">SPI</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'spi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> spi0cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GPIO</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set chip select to pin 9.</span><br><span class="token keyword">var</span> spiOptions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// SPI options</span><br>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MODE_0</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">baudrate</span><span class="token operator">:</span> <span class="token number">800000</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">bitorder</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MSB</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> spi0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SPI</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> spiOptions<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// ChipSelect LOW</span><br>spi0cs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Send two bytes and receive two bytes</span><br><span class="token keyword">var</span> buf <span class="token operator">=</span> spi0<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0x88</span><span class="token punctuation">,</span> <span class="token number">0x24</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// send and receive two byte data.</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span>buf<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// == 2</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// first byte</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// second byte</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="spi-send" tabindex="-1">spi.send(data[, timeout[, count]]) <a class="direct-link" href="#spi-send">#</a></h3>
<ul>
<li><strong><code>data</code></strong> <code>&lt;Uint8Array|string&gt;</code> Data to write.</li>
<li><strong><code>timeout</code></strong> <code>&lt;number&gt;</code> Timeout in milliseconds. <strong>Default:</strong> <code>5000</code>.</li>
<li><strong><code>count</code></strong> <code>&lt;number&gt;</code> Indicates how many times to send data. Default: <code>1</code>.</li>
<li><strong>Returns:</strong> <code>&lt;number&gt;</code> The number of bytes written, <code>-1</code> if it failed to write or timeout.</li>
</ul>
<p>Send data via SPI bus</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">GPIO</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gpio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">SPI</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'spi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> spi0cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GPIO</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set chip select to pin 9.</span><br><span class="token keyword">var</span> spiOptions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// SPI options</span><br>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MODE_0</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">baudrate</span><span class="token operator">:</span> <span class="token number">800000</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">bitorder</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MSB</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> spi0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SPI</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> spiOptions<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// ChipSelect LOW</span><br>spi0cs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Send 2 bytes with an array of numbers</span><br><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0x6b</span><span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>spi0<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="spi-recv" tabindex="-1">spi.recv(length[, timeout]) <a class="direct-link" href="#spi-recv">#</a></h3>
<ul>
<li><strong><code>length</code></strong> <code>&lt;number&gt;</code> Data length to read.</li>
<li><strong><code>timeout</code></strong> <code>&lt;number&gt;</code> Timeout in milliseconds. <strong>Default:</strong> <code>5000</code>.</li>
<li><strong>Returns:</strong> <code>&lt;Uint8Array&gt;</code> Received data or <code>null</code> if failed to transfer or timeout.</li>
</ul>
<p>Receive data via SPI bus.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">GPIO</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gpio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">SPI</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'spi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> spi0cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GPIO</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set chip select to pin 9.</span><br><span class="token keyword">var</span> spiOptions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// SPI options</span><br>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MODE_0</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">baudrate</span><span class="token operator">:</span> <span class="token number">800000</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">bitorder</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MSB</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> spi0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SPI</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> spiOptions<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// ChipSelect LOW</span><br>spi0cs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Receive 10 bytes</span><br><span class="token keyword">var</span> buf <span class="token operator">=</span> spi0<span class="token punctuation">.</span><span class="token function">recv</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span>buf<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// == 10</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// first byte</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// second byte</span><br>  <span class="token comment">// ...</span><br><span class="token punctuation">}</span><br><br>spi0<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="spi-close" tabindex="-1">spi.close() <a class="direct-link" href="#spi-close">#</a></h3>
<p>Closes the SPI bus.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">GPIO</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gpio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">SPI</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'spi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> spi0cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GPIO</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set chip select to pin 9.</span><br><span class="token keyword">var</span> spiOptions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// SPI options</span><br>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MODE_0</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">baudrate</span><span class="token operator">:</span> <span class="token number">800000</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">bitorder</span><span class="token operator">:</span> <span class="token constant">SPI</span><span class="token punctuation">.</span><span class="token constant">MSB</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> spi0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SPI</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> spiOptions<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// transfer data...</span><br>spi0<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Close SPI bus 0</span></code></pre>

        </div>
      </main>
    </div>
  </body>
</html>