<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- prismjs -->
<link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet">

<!-- bootstrap-js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<!-- jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- google fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- main.css -->
<link rel="stylesheet" href="/styles/main.css">
    <title>Kaluma</title>
  </head>
  <body>
    <nav class="doc-sidebar">
      <div class="doc-sidebar-header p-3 border-bottom">
        <a href="/"><img src="/images/kaluma-logo.png" width="32px"></a>
        <span class="ms-2 fw-bold">Kaluma Docs</span>
      </div>
      <aside class="doc-sidebar-nav">
        <nav class="navbar-collapse collapse collapse-horizontal show" id="docs-nav">
          <ul class="list-unstyled">
            
              <li>
                <a href="/docs/">Introduction</a>
              </li>
            
              <li>
                <a href="/docs/getting-started/">Getting Started</a>
              </li>
            
              <li>
                <a href="/docs/repl/">REPL</a>
              </li>
            
              <li>
                <a href="/docs/tutorials/">Tutorials</a>
              </li>
            
            <li>
              <a href="https://github.com/kaluma-project/examples" target="_blank">Examples</a>
            </li>
            <br>
            <div class="doc-section">Boards</div>
            
              <li>
                <a href="/docs/boards/rp2/">RP2 (Raspberry Pi Pico)</a>
              </li>
            
            <br>
            <div class="doc-section">API</div>
            
              <li>
                <a href="/docs/api/adc/">ADC</a>
              </li>
            
              <li>
                <a href="/docs/api/analog-io/">Analog I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/at-command/">AT Command</a>
              </li>
            
              <li>
                <a href="/docs/api/board/">Board</a>
              </li>
            
              <li>
                <a href="/docs/api/button/">Button</a>
              </li>
            
              <li>
                <a href="/docs/api/console/">Console</a>
              </li>
            
              <li>
                <a href="/docs/api/device-driver/">Device Driver</a>
              </li>
            
              <li>
                <a href="/docs/api/digital-io/">Digital I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/errors/">Errors</a>
              </li>
            
              <li>
                <a href="/docs/api/events/">Events</a>
              </li>
            
              <li>
                <a href="/docs/api/file-system/">File system</a>
              </li>
            
              <li>
                <a href="/docs/api/flash/">Flash</a>
              </li>
            
              <li>
                <a href="/docs/api/global/">Global</a>
              </li>
            
              <li>
                <a href="/docs/api/gpio/">GPIO</a>
              </li>
            
              <li>
                <a href="/docs/api/graphics/">Graphics</a>
              </li>
            
              <li>
                <a href="/docs/api/http/">HTTP</a>
              </li>
            
              <li>
                <a href="/docs/api/i2c/">I2C</a>
              </li>
            
              <li>
                <a href="/docs/api/interrupts/">Interrupts</a>
              </li>
            
              <li>
                <a href="/docs/api/led/">LED</a>
              </li>
            
              <li>
                <a href="/docs/api/net/">Net</a>
              </li>
            
              <li>
                <a href="/docs/api/path/">Path</a>
              </li>
            
              <li>
                <a href="/docs/api/process/">Process</a>
              </li>
            
              <li>
                <a href="/docs/api/pwm/">PWM</a>
              </li>
            
              <li>
                <a href="/docs/api/rp2/">RP2</a>
              </li>
            
              <li>
                <a href="/docs/api/rtc/">RTC</a>
              </li>
            
              <li>
                <a href="/docs/api/spi/">SPI</a>
              </li>
            
              <li>
                <a href="/docs/api/storage/">Storage</a>
              </li>
            
              <li>
                <a href="/docs/api/stream/">Stream</a>
              </li>
            
              <li>
                <a href="/docs/api/timers/">Timers</a>
              </li>
            
              <li>
                <a href="/docs/api/uart/">UART</a>
              </li>
            
              <li>
                <a href="/docs/api/url/">URL</a>
              </li>
            
              <li>
                <a href="/docs/api/wifi/">Wi-Fi</a>
              </li>
            
          </ul>
        </nav>
      </aside>
    </nav>
    <div class="doc-body">
      <!-- <div class="text-end p-3 border-bottom"> v1.0 <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#docs-nav" aria-expanded="false">=</button> </div> -->
      <main class="container d-flex justify-content-center markdown-content" style="padding-bottom: 5rem;">
        <div style="width: 100%">
          <h1 id="analog-i-o" tabindex="-1">Analog I/O <a class="direct-link" href="#analog-i-o">#</a></h1>
<h2 id="analogread" tabindex="-1">analogRead(pin) <a href="#analogread" id="analogread"></a> <a class="direct-link" href="#analogread">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support ADC function.</li>
<li><strong>Returns:</strong> <code>&lt;number&gt;</code>, the value is in between <code>0.0</code> ~ <code>1.0</code></li>
</ul>
<p>Read and return analog signal value from the ADC <strong><code>pin</code></strong>. A <code>RangeError</code> will be thrown if the <strong><code>pin</code></strong> does not support ADC function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Read analog value on pin 26.</span><br><span class="token keyword">var</span> pin <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>pin<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="analogwrite" tabindex="-1">analogWrite(pin[, duty[, frequency]]) <a href="#analogwrite" id="analogwrite"></a> <a class="direct-link" href="#analogwrite">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support PWM function.</li>
<li><strong><code>duty</code></strong> <code>&lt;number&gt;</code> The PWM duty cycle between <code>0.0</code> and <code>1.0</code>. <strong>Default:</strong> <code>0.5</code></li>
<li><strong><code>frequency</code></strong> <code>&lt;number&gt;</code> The PWM frequency in Hz. <strong>Default:</strong> <code>490</code>Hz</li>
</ul>
<p>Generate PWM signal with specific <strong><code>frequency</code></strong> and <strong><code>duty</code></strong> to the PWM <strong><code>pin</code></strong>. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support PWM function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Generate 490 Hz 50% duth PWM signal.</span><br><span class="token keyword">var</span> pin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token function">analogWrite</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="tone" tabindex="-1">tone(pin[, frequency[, options]]) <a href="#tone" id="tone"></a> <a class="direct-link" href="#tone">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support PWM function.</li>
<li><strong><code>frequency</code></strong> <code>&lt;number&gt;</code> The PWM frequency in Hz. <strong>Default:</strong> <code>261.626</code>Hz (C Key)</li>
<li><strong><code>options</code></strong> <code>&lt;object&gt;</code>
<ul>
<li><strong><code>duration</code></strong> <code>&lt;number&gt;</code> The duration in milliseconds if a duration is not 0, duration 0 is forever. <strong>Default:</strong> <code>0</code></li>
<li><strong><code>duty</code></strong> <code>&lt;number&gt;</code> The PWM duty cycle between <code>0.0</code> and <code>1.0</code>. <strong>Default:</strong> <code>0.5</code></li>
<li><strong><code>inversion</code></strong> <code>&lt;number&gt;</code> The pin number where an inverted signal to be generated. <strong>Default:</strong> <code>-1</code>.</li>
</ul>
</li>
</ul>
<p>Generate sound tone(PWM) on the PWM <strong><code>pin</code></strong> for <strong><code>duration</code></strong>. A <strong><code>frequency</code></strong> and <strong><code>duty</code></strong> can be set. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support PWM function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Generate 300 Hz tone on the pin 0 for 1sec.</span><br><span class="token function">tone</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Generate 300Hz tone on the pin 0 for 1sec.</span></code></pre>
<p>You can generate an inverted signal of the original PWM signal on another pin. Using this you can generate louder sound on a speaker by wiring two wires of the speaker to the two pins of a same PWM slice instead of wiring to one of PWM pin and GND.</p>
<blockquote>
<p>Note that the inversion pin should be the different channel of the same slice. For example, pin 9 can be used for inversion for the pin 8. See <a href="../boards/raspberry-pi-pico.md#pwm">here</a> for more about PWM slide and channels.</p>
</blockquote>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Generate 300 Hz tone on the pin 8 and the inverted signal on the pin 9.</span><br><span class="token function">tone</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">inversion</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="notone" tabindex="-1">noTone(pin) <a href="#notone" id="notone"></a> <a class="direct-link" href="#notone">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support PWM function.</li>
</ul>
<p>Stop the tone one the PWM <strong><code>pin</code></strong>. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support PWM function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Generate 200 Hz tone to the pin 0 and stop the tone after 1sec.</span><br><span class="token function">tone</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Generate 200Hz tone on the pin 0.</span><br><span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wait for 1000ms (1sec)</span><br><span class="token function">noTone</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Stop the tone on the pin 0</span></code></pre>

        </div>
      </main>
    </div>
  </body>
</html>