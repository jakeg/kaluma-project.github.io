<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- prismjs -->
<link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet">

<!-- bootstrap-js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<!-- jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- google fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- main.css -->
<link rel="stylesheet" href="/styles/main.css">
    <title>Kaluma</title>
  </head>
  <body>
    <nav class="doc-sidebar">
      <div class="doc-sidebar-header p-3 border-bottom">
        <a href="/"><img src="/images/kaluma-logo.png" width="32px"></a>
        <span class="ms-2 fw-bold">Kaluma Docs</span>
      </div>
      <aside class="doc-sidebar-nav">
        <nav class="navbar-collapse collapse collapse-horizontal show" id="docs-nav">
          <ul class="list-unstyled">
            
              <li>
                <a href="/docs/">Introduction</a>
              </li>
            
              <li>
                <a href="/docs/getting-started/">Getting Started</a>
              </li>
            
              <li>
                <a href="/docs/repl/">REPL</a>
              </li>
            
            <li>
              <a href="https://github.com/kaluma-project/examples" target="_blank">Examples</a>
            </li>
            <br>
            <div class="doc-section">Boards</div>
            
              <li>
                <a href="/docs/boards/rp2/">RP2 (Raspberry Pi Pico)</a>
              </li>
            
            <br>
            <div class="doc-section">API</div>
            
              <li>
                <a href="/docs/api/adc/">ADC</a>
              </li>
            
              <li>
                <a href="/docs/api/analog-io/">Analog I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/at-command/">AT Command</a>
              </li>
            
              <li>
                <a href="/docs/api/board/">Board</a>
              </li>
            
              <li>
                <a href="/docs/api/button/">Button</a>
              </li>
            
              <li>
                <a href="/docs/api/console/">Console</a>
              </li>
            
              <li>
                <a href="/docs/api/device-driver/">Device Driver</a>
              </li>
            
              <li>
                <a href="/docs/api/digital-io/">Digital I/O</a>
              </li>
            
              <li>
                <a href="/docs/api/errors/">Errors</a>
              </li>
            
              <li>
                <a href="/docs/api/events/">Events</a>
              </li>
            
              <li>
                <a href="/docs/api/file-system/">File system</a>
              </li>
            
              <li>
                <a href="/docs/api/flash/">Flash</a>
              </li>
            
              <li>
                <a href="/docs/api/global/">Global</a>
              </li>
            
              <li>
                <a href="/docs/api/gpio/">GPIO</a>
              </li>
            
              <li>
                <a href="/docs/api/graphics/">Graphics</a>
              </li>
            
              <li>
                <a href="/docs/api/http/">HTTP</a>
              </li>
            
              <li>
                <a href="/docs/api/i2c/">I2C</a>
              </li>
            
              <li>
                <a href="/docs/api/interrupts/">Interrupts</a>
              </li>
            
              <li>
                <a href="/docs/api/led/">LED</a>
              </li>
            
              <li>
                <a href="/docs/api/net/">Net</a>
              </li>
            
              <li>
                <a href="/docs/api/path/">Path</a>
              </li>
            
              <li>
                <a href="/docs/api/process/">Process</a>
              </li>
            
              <li>
                <a href="/docs/api/pwm/">PWM</a>
              </li>
            
              <li>
                <a href="/docs/api/rp2/">RP2</a>
              </li>
            
              <li>
                <a href="/docs/api/rtc/">RTC</a>
              </li>
            
              <li>
                <a href="/docs/api/spi/">SPI</a>
              </li>
            
              <li>
                <a href="/docs/api/storage/">Storage</a>
              </li>
            
              <li>
                <a href="/docs/api/stream/">Stream</a>
              </li>
            
              <li>
                <a href="/docs/api/timers/">Timers</a>
              </li>
            
              <li>
                <a href="/docs/api/uart/">UART</a>
              </li>
            
              <li>
                <a href="/docs/api/url/">URL</a>
              </li>
            
              <li>
                <a href="/docs/api/wifi/">Wi-Fi</a>
              </li>
            
          </ul>
        </nav>
      </aside>
    </nav>
    <div class="doc-body">
      <!-- <div class="text-end p-3 border-bottom"> v1.0 <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#docs-nav" aria-expanded="false">=</button> </div> -->
      <main class="container d-flex justify-content-center markdown-content" style="padding-bottom: 5rem;">
        <div style="width: 100%">
          <h1 id="digital-i-o" tabindex="-1">Digital I/O <a class="direct-link" href="#digital-i-o">#</a></h1>
<h2 id="pinmode" tabindex="-1">pinMode(pin[, mode]) <a href="#pinmode" id="pinmode"></a> <a class="direct-link" href="#pinmode">#</a></h2>
<ul>
<li>
<p><strong><code>pin</code></strong> <code>&lt;number|number[]&gt;</code> The pin number (or array of pin numbers) which can support GPIO function.</p>
</li>
<li>
<p><strong><code>mode</code></strong> <code>&lt;number&gt;</code> The pin mode <code>INPUT (0)</code> or <code>OUTPUT (1)</code>or <code>INPUT_PULLUP (2)</code> **** or <code>INPUT_PULLDOWN (3)</code><strong>.</strong></p>
<p>. <strong>Default:</strong> <code>INPUT</code></p>
</li>
</ul>
<p>Set the mode of the GPIO <strong><code>pin</code></strong> to <code>INPUT</code> , <code>OUTPUT</code>, <code>INPUT_PULLUP</code>, or <code>INPUT_PULLDOWN</code>. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support GPIO function. Use <code>INPUT_PULLUP</code>when you want to enable internal pull-up for this <strong><code>pin</code></strong> and use <code>INPUT_PULLDOWN</code> when you want to enable internal pull-down.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Set pin 1 to output mode.</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin 1 to output mode.</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin 1 to HIGH.</span></code></pre>
<p>You can set mode for multiple GPIO pins at once by passing an array of pin numbers.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// equivalent to</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="digitalread" tabindex="-1">digitalRead(pin) <a href="#digitalread" id="digitalread"></a> <a class="direct-link" href="#digitalread">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support GPIO function.</li>
<li><strong>Returns:</strong> <code>&lt;number&gt;</code> The return value is <code>HIGH (1)</code> or <code>LOW (0)</code></li>
</ul>
<p>Read the digital input from the GPIO INPUT <strong><code>pin</code></strong>. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support GPIO function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Read digital value from the pin 1.</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">INPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin 1 to input mode</span><br><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Read the value from the pin 1.</span></code></pre>
<h2 id="digitalwrite" tabindex="-1">digitalWrite(pin[, value]) <a href="#digitalwrite" id="digitalwrite"></a> <a class="direct-link" href="#digitalwrite">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number|number[]&gt;</code> The pin number (or array of pin numbers) which can support GPIO function.</li>
<li><strong><code>value</code></strong> <code>&lt;number&gt;</code> The value could be <code>HIGH (1)</code> or <code>LOW (0)</code>. If an array of pin numbers are given a number (greater than 1) can be used. <strong>Default:</strong> <code>LOW</code></li>
</ul>
<p>Set the GPIO OUTPUT <strong><code>pin</code></strong> to <code>HIGH</code> or <code>LOW</code>. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support GPIO function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Set the pin 1 to HIGH.</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin 1 to output mode</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin 1 to HIGH</span></code></pre>
<p>You can set multiple GPIO pins at once by passing an array of pin numbers. The last element in the array corresponds to the last significant bit (LSB) of the value.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> pins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span>pins<span class="token punctuation">,</span> <span class="token number">0b11001010</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// equivalent to</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="digitaltoggle" tabindex="-1">digitalToggle(pin) <a href="#digitaltoggle" id="digitaltoggle"></a> <a class="direct-link" href="#digitaltoggle">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support GPIO function.</li>
</ul>
<p>Set the GPIO OUTPUT <strong><code>pin</code></strong> to the reverse state of the current state. Set to <code>HIGH</code> if the current state is <code>LOW</code>. Set to <code>LOW</code> if the current state is <code>HIGH</code>. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support GPIO function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Set the pin 1 to HIGH and toggle (Set to LOW)</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin 1 to GPIO OUTPUT</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin 1 to HIGH</span><br><span class="token function">digitalToggle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// Toggle the pin 1, change the pin state to LOW from HIGH.</span></code></pre>
<h2 id="setwatch" tabindex="-1">setWatch(callback, pin[, events[, debounce]]) <a href="#setwatch" id="setwatch"></a> <a class="direct-link" href="#setwatch">#</a></h2>
<ul>
<li><strong><code>callback</code></strong> <code>&lt;function&gt;</code> The function is called when the <strong><code>event</code></strong> is triggered on the <strong><code>pin.</code></strong>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number is passed as the first argument to the callback. </li>
</ul>
</li>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support GPIO function.</li>
<li><strong><code>events</code></strong> <code>&lt;number&gt;</code> set the events of the <code>pin</code>. There are five events, <code>LOW_LEVEL (1)</code>, <code>HIGH_LEVEL (2)</code> <code>FALLING (4)</code>, <code>RISING (8)</code>, and <code>CHANGE (12)</code>. <strong>Default:</strong> <code>CHANGE</code>.</li>
<li><strong><code>debounce</code></strong> <code>&lt;number&gt;</code> debounce time in ms (milliseconds). <strong>Default:</strong> <code>0</code>ms</li>
<li><strong>Returns:</strong> <code>&lt;number&gt;</code> the ID of the watcher.</li>
</ul>
<p>Run the <strong><code>callback</code></strong> function when the <strong><code>events</code></strong> is triggered on the <strong><code>pin</code></strong>. There are five events. The <code>FALLING</code> event is triggered when the <strong><code>pin</code></strong> state is changed from <code>HIGH</code> to <code>LOW</code>. The <code>LOW_LEVEL (1)</code>event is triggered when the <strong><code>pin</code></strong> is <code>LOW</code> state and The <code>HIGH_LEVEL (2)</code> event is triggered when the <strong><code>pin</code></strong> is <code>HIGH</code> state.  The <code>RISING (1)</code> event is triggered when the <strong><code>pin</code></strong> state is changed from <code>LOW</code> to <code>HIGH</code>. The <code>CHANGE</code> event is triggered when the <strong><code>pin</code></strong> state is changed to any states, which means the <code>CHANGE</code> event is the same as the <code>FALLING</code> + <code>RISING</code> events. The <strong><code>debounce</code></strong> time can be set when you can see the bouncing on the GPIO <strong><code>pin</code></strong>. A <code>RangeError</code> will be thrown if <strong><code>pin</code></strong> does not support GPIO function.</p>
<p>Before calling this function, you have to set the pin mode as <code>INPUT</code> , <code>INPUT_PULLUP</code> or <code>INPUT_PULLDOWN</code>.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Print out 'click' string to the terminal when user press the button.</span><br><span class="token keyword">var</span> pin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// Pin to watch</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> <span class="token constant">INPUT_PULLDOWN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin mode to INPUT_PULLDOWN.</span><br><span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token function">setWatch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print out the 'click' to the terminal.</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> pin<span class="token punctuation">,</span> <span class="token constant">RISING</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set falling event with 10ms debouncing time.</span></code></pre>
<h2 id="clearwatch" tabindex="-1">clearWatch(id) <a href="#clearwatch" id="clearwatch"></a> <a class="direct-link" href="#clearwatch">#</a></h2>
<ul>
<li><strong><code>id</code></strong> <code>&lt;number&gt;</code> The ID of the watcher which is the return value of the <code>setWatch()</code> function.</li>
</ul>
<p>Stop watching the event which is set by <code>setWatch()</code> function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Print out 'click' string to the terminal when user press the button.</span><br><span class="token keyword">var</span> pin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Pin to watch</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> <span class="token constant">INPUT_PULLDOWN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the pin mode to INPUT_PULLDOWN.</span><br><span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token function">setWatch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print out the 'click' to the terminal.</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> pin<span class="token punctuation">,</span> <span class="token constant">RISING</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set falling event with 10ms debouncing time.</span><br><span class="token function">clearWatch</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Stop watching the on-board pin event.</span></code></pre>
<h2 id="pulseread" tabindex="-1">pulseRead(pin, count[, options]) <a href="#pulseread" id="pulseread"></a> <a class="direct-link" href="#pulseread">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support GPIO function.</li>
<li><strong><code>count</code></strong> <code>&lt;number&gt;</code> The number of pulse to read.</li>
<li><strong><code>options</code></strong> <code>&lt;object&gt;</code> 
<ul>
<li><strong><code>timeout</code></strong> <code>&lt;number&gt;</code> timeout in us(microseconds). <strong>Default:</strong> <code>1000000</code></li>
<li><strong><code>startState</code></strong> <code>&lt;number&gt;</code> Start to read the pulse from this state. <strong>Default:</strong> <code>undefined</code></li>
<li>**<code>mode</code> ** <code>&lt;number&gt;</code> Pin mode to read pulse.</li>
<li><strong><code>trigger</code></strong> <code>&lt;object&gt;</code> 
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> Pin number to trigger. <strong>Default:</strong> same with <code>pin</code> </li>
<li><strong><code>startState</code></strong> <code>&lt;number&gt;</code> Start state for trigger. <strong>Default:</strong> <code>LOW</code> </li>
<li><strong><code>interval</code></strong> <code>&lt;number[]&gt;</code> Pulse timing in microseconds. Refer to <code>pulseWrite</code>.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Returns:</strong> <code>&lt;number[]&gt;</code> Array of the pulse timing. It returns <code>null</code> if the pin state is not changed until <strong><code>timeout</code></strong></li>
</ul>
<p>Read the <strong><code>pin</code></strong> state change timing from <strong><code>startState</code></strong>. It returns the microseconds state changing timing if the state is changed <strong><code>count</code></strong> times or for <strong><code>timeout</code></strong> microseconds.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Read 10 pulse timing on the pin 0</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">INPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> pulse <span class="token operator">=</span> <span class="token function">pulseRead</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>pulse<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>If <strong><code>startState</code></strong> is <code>HIGH (1)</code> the system wait until the pin state to <code>HIGH</code> and start to measure pulse timing. The If <strong><code>startState</code></strong> is<code>undefined</code>, the system start to measure pulse timing immediately and user can't know which pulse timing is <code>HIGH</code> or <code>LOW</code>. Assume that the pulses are given as below timing diagram, you can get <code>[30, 20, 50]</code> with the below example code.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Read 10 pulse timing with 50ms timeout.</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">INPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Wait until HIGH state detection</span><br><span class="token keyword">var</span> pulse <span class="token operator">=</span> <span class="token function">pulseRead</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">50000</span><span class="token punctuation">,</span> <span class="token literal-property property">startState</span><span class="token operator">:</span> <span class="token constant">HIGH</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>pulse<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [30, 20, 50]</span></code></pre>
<p><img src="/images/doc-digital-io-pulse-read.png" alt="A pulse example"></p>
<p>If <strong><code>trigger</code></strong> options is given, it generates trigger pulse just before to read pulse. The fields of trigger object is corresponds to the parameter of <code>pulseWrite()</code>. It is useful to avoid the delay time between triggering and pulse reading.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// 10us trigger pulse before reading</span><br><span class="token keyword">var</span> pulse <span class="token operator">=</span> <span class="token function">pulseRead</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><br>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token constant">INPUT</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token literal-property property">pin</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><br>    <span class="token literal-property property">startState</span><span class="token operator">:</span> <span class="token constant">LOW</span><span class="token punctuation">,</span><br>    <span class="token literal-property property">interval</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pulse<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>You should be consider the CPU process time in the very first output array data. This means that the very first timing data is less than your expected timing due to CPU process time.</p>
<h2 id="pulsewrite" tabindex="-1">pulseWrite(pin, startState, interval) <a href="#pulsewrite" id="pulsewrite"></a> <a class="direct-link" href="#pulsewrite">#</a></h2>
<ul>
<li><strong><code>pin</code></strong> <code>&lt;number&gt;</code> The pin number which can support GPIO function.</li>
<li><strong><code>startState</code></strong> <code>&lt;number&gt;</code> Start state.</li>
<li><strong><code>interval</code></strong> <code>&lt;number[]&gt;</code> Pulse timing in microseconds.</li>
<li><strong>Returns:</strong> <code>&lt;number&gt;</code> Length of the written pulse, it's the same as the length of the <strong><code>interval</code></strong> array.</li>
</ul>
<p>Generates the digital pulse on the <strong><code>pin</code></strong> with microseconds timing. The state change timing from <strong><code>startState</code></strong>. It returns the number of the written pulse.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Generates pulse on the pin 0</span><br><span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">pulseWrite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><img src="/images/doc-digital-io-pulse-write.png" alt="Pulse generated"></p>

        </div>
      </main>
    </div>
  </body>
</html>